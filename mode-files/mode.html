<!-- HTML Code for Mode Analytics Dashboard -->
<style>
    .mode-grid.container,
    .mode-grid .row,
    .mode-grid .col-md-12 {
      box-sizing: border-box;
    }
  
    /* Make the main chart container full width */
    .mode-grid.container {
      width: 100% !important;
      max-width: none !important;
      /* Crucial: Remove Mode's default max-width */
      padding-left: 15px !important;
      padding-right: 15px !important;
      margin-left: auto !important;
      margin-right: auto !important;
      
    }
  </style>

  <div class="mode-header embed-hidden">
    <h1>{{ title }}</h1>
    <p>{{ description }}</p>
  </div>
  
            <!-- CUSTOM DATE PICKER for all charts -->
        <div id="custom-date-picker-container" style="background: #f8f9fa; padding: 15px; margin: 20px 0; border-radius: 8px; border: 1px solid #dee2e6;">
            <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                <strong style="color: #495057;">ðŸ“Š Chart Date Range:</strong>
                <label style="display: flex; align-items: center; gap: 5px;">
                    <span style="font-weight: 500;">From:</span>
                    <input type="date" id="custom-start-date" style="padding: 5px 8px; border: 1px solid #ced4da; border-radius: 4px;">
                </label>
                <label style="display: flex; align-items: center; gap: 5px;">
                    <span style="font-weight: 500;">To:</span>
                    <input type="date" id="custom-end-date" style="padding: 5px 8px; border: 1px solid #ced4da; border-radius: 4px;">
                </label>
                <button id="apply-date-range" style="background: #007bff; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-weight: 500;">
                    Apply to All Charts
                </button>
                <button id="reset-date-range" style="background: #6c757d; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-weight: 500;">
                    Reset to 30 Days
                </button>
            </div>
        </div>
  
  <!-- CUSTOM GRAPHS WITHIN REPORT BEGIN-->
  <script>
          //add stylesheet
          const link = document.createElement('link');
          link.rel = 'stylesheet';
          link.href = 'https://edgirges.github.io/mode-js-graph/styles.css?v=' + new Date().getTime();
          document.head.appendChild(link);
  </script>
  
  <body>
        <!-- CHART 1: DAILY BW BUDGET V. SPEND / SPEND PCT -->
      <div class="chart-container budget-spend-container usesCustomDatePicker">
      </div>
      
        <!-- Chart 2: Daily BW Spend Categories -->
      <div class="chart-container spend-categories-container usesCustomDatePicker">
  
      </div>
      
      
        <!-- CHART 3: NON PAID VISIT STATS -->
        <div class="chart-container non-paid-visit-stats-container usesCustomDatePicker">
          
        </div>
  
        <!-- CHART 6: PMP v Open Market Impressions and Spend - Line -->
        <div class="chart-container pmp-v-open-market-line-container usesCustomDatePicker">
        </div>
        
        <!-- CHART 9: Performance Trends by Progressing Days -->
        <div class="chart-container performance-trends-container usesCustomDatePicker">
        </div>
        
        <!-- CHART 10: New Campaign Groups Starting each Month for First 30 Days -->
        <div class="chart-container campaign-groups-30-days-container usesCustomDatePicker">
        </div>
        
        <!-- CHART 11: New Campaign Groups Starting each Month for that Month -->
        <div class="chart-container campaign-groups-month-container usesCustomDatePicker">
        </div>
  
        <!-- CHART 12: Overall Performance Trends (by Month) -->
        <div class="chart-container overall-performance-trends-container usesCustomDatePicker">
        </div>
        
             <!-- CHART 13: RAW Visits and Conv (by Month) -->
        <div class="chart-container raw-visits-conv-container usesCustomDatePicker">
        </div>
  
      <!-- External JavaScript Libraries -->
      <!-- Chart.js - Main charting library -->
      <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
      
      <!-- Chart.js Date adapter for time series -->
      <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
      
      <!-- Chart.js Zoom Plugin for interactivity -->
      <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>
      
      <!-- Chart.js Annotation Plugin for markers -->
      <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3.0.1/dist/chartjs-plugin-annotation.min.js"></script>
      
      <!-- Chart Specific Custom JS -->
      
      <!-- Budget vs Spend Performance Chart -->
      <script>
            const sharedLibraryScript = document.createElement('script');
            sharedLibraryScript.src = 'https://edgirges.github.io/mode-js-graph/all-accounts-performance/shared-chart-library.js?v=' + new Date().getTime();
            sharedLibraryScript.onload = function() {
                console.log('Shared Chart Library loaded');
                
                // Load Budget vs Spend chart AFTER shared library is loaded
                const budgetSpendScript = document.createElement('script');
                budgetSpendScript.src = 'https://edgirges.github.io/mode-js-graph/all-accounts-performance/budget-vs-spend.js?v=' + new Date().getTime();
                budgetSpendScript.onload = function() {
                    console.log('Budget vs Spend chart script loaded');
                };
                document.head.appendChild(budgetSpendScript);
                
                // Daily BW Spend Categories
                const spendCategoriesScript = document.createElement('script');
                spendCategoriesScript.src = 'https://edgirges.github.io/mode-js-graph/all-accounts-performance/spend-categories.js?v=' + new Date().getTime();
                spendCategoriesScript.onload = function() {
                    console.log('Spend Categories chart script loaded');
                };
                document.head.appendChild(spendCategoriesScript);
                
                // Non Paid Visit Stats
                const nonPaidVisitStatsScript = document.createElement('script');
                nonPaidVisitStatsScript.src = 'https://edgirges.github.io/mode-js-graph/all-accounts-performance/non-paid-visit-stats.js?v=' + new Date().getTime();
                nonPaidVisitStatsScript.onload = function() {
                    console.log('Non Paid Visit Stats chart script loaded');
                };
                document.head.appendChild(nonPaidVisitStatsScript);
                
                // PMP Open Market Line chart 
                const pmpOpenMarketLineScript = document.createElement('script');
                pmpOpenMarketLineScript.src = 'https://edgirges.github.io/mode-js-graph/all-accounts-performance/pmp-open-market-line.js?v=' + new Date().getTime();
                pmpOpenMarketLineScript.onload = function() {
                    console.log('PMP Open Market Line chart script loaded');
                };
                document.head.appendChild(pmpOpenMarketLineScript);
                
                // Performance Trends by Progressing Days chart
                const performanceTrendsScript = document.createElement('script');
                performanceTrendsScript.src = 'https://edgirges.github.io/mode-js-graph/all-accounts-performance/performance-trends.js?v=' + new Date().getTime();
                performanceTrendsScript.onload = function() {
                    console.log('Performance Trends chart script loaded');
                };
                document.head.appendChild(performanceTrendsScript);
                
                // Campaign Groups 30 Days chart
                const campaignGroups30DaysScript = document.createElement('script');
                campaignGroups30DaysScript.src = 'https://edgirges.github.io/mode-js-graph/all-accounts-performance/campaign-groups-30-days.js?v=' + new Date().getTime();
                campaignGroups30DaysScript.onload = function() {
                    console.log('Campaign Groups 30 Days chart script loaded');
                };
                document.head.appendChild(campaignGroups30DaysScript);
                
                
                // Campaign Groups Month chart 
                const campaignGroupsMonthScript = document.createElement('script');
                campaignGroupsMonthScript.src = 'https://edgirges.github.io/mode-js-graph/all-accounts-performance/campaign-groups-month.js?v=' + new Date().getTime();
                campaignGroupsMonthScript.onload = function() {
                    console.log('Campaign Groups Month chart script loaded');
                };
                document.head.appendChild(campaignGroupsMonthScript);
                
                // Overall Performance Trends chart
                const overallPerformanceTrendsScript = document.createElement('script');
                overallPerformanceTrendsScript.src = 'https://edgirges.github.io/mode-js-graph/all-accounts-performance/overall-performance-trends.js?v=' + new Date().getTime();
                overallPerformanceTrendsScript.onload = function() {
                    console.log('Overall Performance Trends chart script loaded');
                };
                document.head.appendChild(overallPerformanceTrendsScript);
                
                
                // RAW Visits and Conv chart 
                const rawVisitsConvScript = document.createElement('script');
                rawVisitsConvScript.src = 'https://edgirges.github.io/mode-js-graph/all-accounts-performance/raw-visits-conv.js?v=' + new Date().getTime();
                rawVisitsConvScript.onload = function() {
                    console.log('RAW Visits and Conv chart script loaded');
                };
                document.head.appendChild(rawVisitsConvScript);
            };
            document.head.appendChild(sharedLibraryScript);
      </script>
      
      <!-- For Mode Analytics: Replace the above line with your GitHub raw URL -->
      <!-- <script src="https://raw.githubusercontent.com/yourusername/your-repo/main/index.js"></script> -->
  </body>
  
  <!-- CUSTOM GRAPHS WITHIN REPORT END-->
  
  
  <div class="mode-grid container" style="width: 100% !important;">
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_23dd2098662d" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_381fb32fccd7" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_c980b3e49be8" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_5eb707a8fb33" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_c5463ea0810a" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_47dd0935f309" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_e1b9d8d05845" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_f8266354a80f" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_65b5f2b5aaef" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_70882d32e325" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_66b5e799f2d1" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_637709e1010c" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_eeb251e059a9" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_f233e7f67066" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_5c2b89b52206" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_d7a63f2f08c7" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_6a2406716e94" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_95a644a36dee" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_adc5f55541e9" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_6f5d5995d1cc" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_fc92edf66ddf" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row" style="width: 100%;" data-row-height="large">
      <div class="col-md-12"><mode-chart id="chart_86274654a357" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_55858331641b" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_1bfa70bad679" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
    <div class="row">
      <div class="col-md-12"><mode-chart id="chart_4c62406f1439" dataset="dataset" options="chart_options"></mode-chart></div>
    </div>
  </div>